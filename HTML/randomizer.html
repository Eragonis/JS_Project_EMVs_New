<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Random</title>
   <link rel="stylesheet" href="/CSS/style.css">
</head>
<header>
   <button id="darkModeToggle"><strong>Dark Mode</strong></button>
   <script>
      const button = document.getElementById("darkModeToggle");
      const body = document.body;

      function updateButtonText() {
         if (body.classList.contains("dark-mode")) {
            button.innerHTML = "<strong>Light Mode</strong>";
         } else {
            button.innerHTML = "<strong>Dark Mode</strong>";
         }
      }

      // Dark Mode aktivieren, wenn bereits gespeichert
      if (localStorage.getItem("darkMode") === "enabled") {
         body.classList.add("dark-mode");
      }
      updateButtonText();

      button.addEventListener("click", () => {
         body.classList.toggle("dark-mode");

         // Dark Mode Zustand speichern
         if (body.classList.contains("dark-mode")) {
            localStorage.setItem("darkMode", "enabled");
         } else {
            localStorage.setItem("darkMode", "disabled");
         }
         updateButtonText();
      });
   </script>
</header>

<body>
   <div>
      <h2>Random Waifu</h2>
      <p>Drücke den Knopf und erhalte eine <span style="color:#ff33cc">NEUE</span> ワイフ</p>
      <button id="Waifu" type="button">New Waifu</button>
      <div id="waifu-container">
         <!-- Hir Kommt Bild und Text-->
      </div>
      <script>
         let json;

         async function fetchWaifuJson() {
            const response = await fetch('/Json/waifus.json');
            json = await response.json();
         }

         async function setup() {
            await fetchWaifuJson();
            for (let i = 0; i < json.length; i++) {
               console.group("Waifu " + i);
               console.log(json[i].name);
               console.log(json[i].hair_color);
               console.log(json[i].Characteristic_properties);
               console.groupEnd();
            }
            console.log("json[0].name", json[0].name);
            console.log("json[0].hair_color", json[0].hair_color);
            console.log("json[0].Characteristic_properties", json[0].Characteristic_properties);

            document.getElementById('Waifu').addEventListener('click', function () {
               // Random zahl 1 - 25
               var randomNumber = Math.floor(Math.random() * 25) + 1;
               // Container, in dem das Bild und der Text angezeigt werden
               var container = document.getElementById('waifu-container');
               container.innerHTML = '';

               console.log(randomNumber);

               //nun waifus und text

               container.innerHTML = `<img src="/Image/waifu_${randomNumber}.jpg" width="450" height="770" />`;
               container.innerHTML += `<p><span style="color:#ff0000">Name: </span>${json[randomNumber - 1].name}</p>`;
               container.innerHTML += `<p><span style="color:#ff0000">Hair color: </span>${json[randomNumber - 1].hair_color}</p>`;
               container.innerHTML += `<p><span style="color:#ff0000">Characteristic properties: </span>${json[randomNumber - 1].Characteristic_properties}</p>`;
            })
         }


         setup();

      </script>
      <div>
         <h3>Random Husbando</h3>
         <p>Drücke den Knopf und erhalte einen <span style="color:#00ff00">NEUE</span> Husbando</p>
         <button id="husbando" type="button">New Husbando</button>
         <div id="husbando-container">

            <!-- Hir Kommt Bild und Text-->
         </div>
         <script>
            let jsons;

            async function fetchHusbandoJson() {
               const response = await fetch('/Json/husbando.json');
               jsons = await response.json();
            }

            async function testing() {
               await fetchHusbandoJson();
               for (let i = 0; i < jsons.length; i++) {
                  console.group("Husbando " + i);
                  console.log(jsons[i].name);
                  console.log(jsons[i].hair_color);
                  console.log(jsons[i].Characteristic_properties);
                  console.groupEnd();
               }
               console.log(jsons);

               document.getElementById('husbando').addEventListener('click', function () {
                  // Random zahl 1 - 25
                  var randomNumbers = Math.floor(Math.random() * 10) + 1;
                  // Container, in dem das Bild und der Text angezeigt werden
                  var container = document.getElementById('husbando-container');
                  container.innerHTML = '';

                  console.log(randomNumbers);

                  //nun waifus und text

                  container.innerHTML = `<img src="/Image/husbando_${randomNumbers}.jpg" width="450" height="770" />`;
                  container.innerHTML += `<p><span style="color:#ff0000">Name: </span>${jsons[randomNumbers - 1].name}</p>`;
                  container.innerHTML += `<p><span style="color:#ff0000">Hair color: </span>${jsons[randomNumbers - 1].hair_color}</p>`;
                  container.innerHTML += `<p><span style="color:#ff0000">Characteristic properties: </span>${jsons[randomNumbers - 1].Characteristic_properties}</p>`;
               })
            }


            testing();


         </script>
      </div>
</body>

</html>
